<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Авторизація</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous">

    <th:block th:include="/_header"></th:block>
    <th:block th:include="/_menu"></th:block>
</head>
<body class="text-center" style="background: #bcbebf">

<br>
<br>
<th:block th:if="${#session != null && #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}">
    <div th:if= "${#request.getParameter('error') == 'true'}"
         style="color: red; margin: 10px 0px;">
        Авторизація невдала!!!<br /> Причина :
        <span th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}"></span>
    </div>
</th:block>

<main class="form-signin">
    <form method="POST"
          th:action="@{/j_spring_security_check}">
        <h1 class="h3 mb-3 fw-normal">Авторизація</h1>
        <h5>Введіть ім'я користувача і пароль</h5>
        <div class="form-floating">
            <input name="userName" />
        </div>
        <div class="form-floating">
            <input type="password" name="password" />
        </div>

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" value="remember-me"> Запамятати мене
            </label>
        </div>
        <button class="btn btn-primary" style="color: #0dcaf0" type="submit" value="Авторизація">Авторизація</button>
        <button class="btn btn-primary" style="color: #0dcaf0" type="reset" value="Скинути">Скинути</button>


    </form>
</main>
<span class="error-message" th:utext="${Error}"></span>


<th:block th:include="/_footer"></th:block>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
</body>
</html>